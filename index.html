<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>画像と動画を自動でウィンドウで表示</title>
<script>
let openedImages = 0;
let closeCount = 0;
let videoWindow;

function openImages(count, imageUrl) {
for (let i = 0; i < count; i++) {
window.open(imageUrl, '_blank', 'width=400,height=400,left=' + (openedImages * 10) + ',top=' + (100 + (openedImages % 10) * 10));
openedImages++;
}
}

function openYouTubeVideo() {
videoWindow = window.open('https://www.youtube.com/watch?v=XWrvbDkmatw', '_blank', 'width=800,height=600');
}

window.onload = function() {
setTimeout(function() {
openImages(100, 'https://cdn-ak.f.st-hatena.com/images/fotolife/k/kill-666/20120418/20120418222938.jpg');
openImages(50, 'https://www.sokagakkai.jp/assets/img/philosophy/img-3-18-3-1.jpg');
openYouTubeVideo();
}, 1000);

// 1分半後に新しい画像を30枚表示
setTimeout(function() {
openImages(30, 'https://cdn.mainichi.jp/vol1/2024/01/30/20240130k0000m040190000p/9.jpg?1');
}, 90000); // 90,000ミリ秒 = 1分半
};

window.onbeforeunload = function() {
closeCount++;
if (closeCount >= 10 && videoWindow) {
videoWindow.close();
}
};

window.addEventListener('focus', function() {
if (closeCount > 0 && closeCount < 10) {
openYouTubeVideo();
closeCount = 0;
}
});
</script>
</head>
<body>
<h1>ポップアップブロックを許可してください</h1>
</body>
</html>
